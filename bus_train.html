<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name= "viewport" content="width=device-width , initial-scale=1.0">
    <title>Bus-Train Booking</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://use.fontawesome.com/3d7be19efc.js"></script>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/bus_train.css">

  </head>
  <body>
    <div class="container-fluid">
      <div class="top-bar">
        <div class="row">
          <ul class="list-group list-group-horizontal">
            <li id="signin" class="list-group-item"><a href="registration.html">Sign In</a></li>
            <li id="mylist" class="list-group-item"><a href="myList.html">My List</a></li>
            <li id="signout" class="list-group-item"><a href="myList.html" onclick="signOut()">Sign Out</a></li>

          </ul>
        </div>
      </div>
    </div>
      <nav class="navbar navbar-expand-lg navbar-dark ">
        <!-- button appears while sizing down -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#secondNavbar" aria-controls="secondNavbar" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="secondNavbar">
      <!-- ml-auto = margin left  ml-auto -->
          <ul class="navbar-nav">

          <!-- navigation bar items -->
            <li class="nav-item" > <a class="nav-link" href="index.html">Home</a></li>
            <li class="nav-item"> <a class="nav-link" href="aboutUs.html">About us</a></li>

            <li class="nav-item"> <div class="dropdown">
              <!-- service dropdown -->
              <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Services
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="hotels.html" style="color: #404040;">Hotel Booking</a>
                <a class="dropdown-item" href="flights.html" style="color: #404040";>Book Flights</a>
                <a class="dropdown-item" href="bus_train.html" style="color: #404040";>Bus/Train Booking</a>
                <a class="dropdown-item" href="packageBooking.html" style="color: #404040";>Package Booking</a>
              </div>
            </div></li>
            <li class="nav-item"> <a class="nav-link" href="docs\AbhinavResumeFinal.pdf">Contact us</a></li>

          </ul>
        </div>
      </nav>

    <div class="row">

      <div class="col-lg-12" id="where_to">
        <h1>Where are you going today ?</h1>
        <div class="col-lg-8 " id="card_view">
          <div class="card">
            <div class="form-check form-check-inline">
  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1" style="margin-left:1em;">
  <label class="form-check-label" for="inlineRadio1">Roundtrip</label>

  <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2" style="margin-left:1em;">
  <label class="form-check-label" for="inlineRadio2">One way</label>

</div>
  <div class="card-body">
    <h5 class="card-title"></h5>
    <!-- <form action="#"> -->
      <label for="from">From:</label>
      <input type="text" id="source" name="check-in">
      <label for="to">To:</label>
      <input type="text" id="destination" name="check-in">
      <label for="depart">Date:</label>
      <input type="date" id="depart" name="check-out">
      <label for="return">Return:</label>
      <input type="date" id="return" name="check-out">

      <button onclick="saveData()" class="btn btn-success btn-md" style="margin-top:10px">Book</button>
    <!-- </form> -->

      </div>
        </div>
          </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-12" style="padding-top:2%;">
              <h1 style="text-align:center;">Popular destinations</h1>
            </div>
          </div>
          <div class="row" style="margin:1% 2%;">
            <div class="row row-cols-1 row-cols-md-2">
  <div class="col mb-4">
    <div class="card">
    <a href="#"><img src="images/nyc.jpg" class="card-img-top" alt="..."></a>
      <div class="card-body">
        <h5 class="card-title">New York City</h5>
        <p class="card-text">Take a trip to the famous New York City, one of the most popular tourist attraction all over the world, with hundered's and thousand's
        of attractions you will never run out of things to try in New York.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
      <a href="#"><img src="images/toronto.jpg" class="card-img-top" alt="..."></a>
      <div class="card-body">
        <h5 class="card-title">Toronto</h5>
        <p class="card-text">With exciting entertainment, live performance, major league sports, festival for nearly everything and famous attractions like - CN-tower, Casa Loma and many more,
          there's always something new to try in Toronto.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
      <a href="#"><img src="images/niagara.jpg" class="card-img-top" alt="..."></a>
      <div class="card-body">
        <h5 class="card-title">Niagara Falls</h5>
        <p class="card-text">Niagara Falls, Ontario, is a Canadian city at the famous waterfalls of the same name, linked with the U.S. by the Rainbow Bridge. Its site on the Niagara River's western
          shore overlooks the Horseshoe Falls, the cascades' most expansive section.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
      <a href="#"><img src="images/ottawa.jpg" class="card-img-top" alt="..."></a>
      <div class="card-body">
        <h5 class="card-title">Ottawa</h5>
        <p class="card-text">Ottawa, Canada’s capital, a dynamic showcase city of more than one million people. It's a place where you’ll hear English and French spoken in the streets, where you can
          discover Canada’s proud heritage at impressive national sites and famous landmarks.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
      <a href="#"><img src="images/chicago.png" class="card-img-top" alt="..."></a>
      <div class="card-body">
        <h5 class="card-title">Chicago</h5>
        <p class="card-text">Chicago, on Lake Michigan in Illinois, is among the largest cities in the U.S. Famed for its bold architecture, it has a skyline punctuated by skyscrapers such as the iconic John Hancock Center,
          1,451-ft. Willis Tower (formerly the Sears Tower) and the neo-Gothic Tribune Tower. The city is also renowned for its museums.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
    <a href="#"><img src="images/la.jpg" class="card-img-top" alt="..."></a>
      <div class="card-body">
        <h5 class="card-title">Los Angeles</h5>
        <p class="card-text">Take a road-trip to the city of Los Angeles, also famously known as city of stars.Near its iconic Hollywood sign, studios such as Paramount Pictures, Universal and Warner Brothers offer behind-the-scenes tours.
        On Hollywood Boulevard, TCL Chinese Theatre displays celebrities’ hand- and footprints, the Walk of Fame honors thousands of luminaries and vendors sell maps to stars’ homes. </p>
      </div>
    </div>
  </div>
</div>
</div>

  <div class="row" style="margin-top:0;">
    <div class="col-lg-12" id="footer">
      <div class="footer" style="text-align:center; padding-top:15px;">
          &copy; Copyright 2020. All Rights Reserved.
      </div>
    </div>
</div>





  <script>

    function saveData(){



      var source = document.getElementById("source").value;
      var destination = document.getElementById("destination").value;
      var departingDate = document.getElementById("depart").value;
      var returnDate = document.getElementById("return").value;

        var data = {

          Service_Name : "Train Booking",
          Details : "Air Canada - " + ("From: " + source + "To:" + destination),
          person : 1,
          Duration : (departingDate + " - " + returnDate),
          Price : "CAD $ 160",
          Service_Booking_Date : new Date()
        }


      let openRequest = indexedDB.open("project", 1);
      var db;



      openRequest.onsuccess = function() { console.log("success");

          db = openRequest.result;
          db.onversionchange = function() { db.close(); };


          let transaction2 = db.transaction("LogInUser", "readwrite");
          let logInUser = transaction2.objectStore("LogInUser");

          var r = logInUser.get("UN");
          r.onsuccess = function() {

            var unObject = r.result;
            console.log(unObject);
            var currentUser = unObject.v;

            let transaction = db.transaction("allUsersData", "readwrite");
            let allRequests = transaction.objectStore("allUsersData");
            var req = allRequests.get(currentUser);

                  req.onsuccess = function() {

                  var userObject = req.result;

                  var reqArray = userObject.requestsList;

                  reqArray.push(data);



                  var updatedInfo = {
                    username: userObject.username,
                    password: userObject.password,
                    fullName: userObject.fullName,
                    email: userObject.email,
                    requestsList: reqArray
                  };
                  allRequests.put(updatedInfo);
                  alert("Booking successfull!!"); };

          };



        }
      }

  </script>


  <script type="text/javascript" src="scripts/dbScript.js"></script>




  </body>
</html>
